{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/master.service\";\nimport * as i3 from \"@angular/common\";\nfunction RestaurantItemsComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\", 5);\n    i0.ɵɵlistener(\"click\", function RestaurantItemsComponent_div_2_Template_div_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const item_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.navigate(item_r2));\n    });\n    i0.ɵɵelementStart(2, \"div\", 6)(3, \"div\", 1)(4, \"div\", 7);\n    i0.ɵɵelement(5, \"img\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 9);\n    i0.ɵɵelement(7, \"i\", 10);\n    i0.ɵɵelementStart(8, \"h4\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"small\");\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"slice\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"div\", 1)(14, \"div\", 7)(15, \"h4\", 11);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 9)(18, \"h6\");\n    i0.ɵɵelement(19, \"i\", 12);\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"src\", item_r2.photoUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r2.menuItemName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind3(12, 4, item_r2.description, 0, 35));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", item_r2.restaurantName, \"\");\n  }\n}\nfunction RestaurantItemsComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"h5\");\n    i0.ɵɵtext(2, \"No Restaurant Serving At Moment\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class RestaurantItemsComponent {\n  constructor(activate, router, master) {\n    this.activate = activate;\n    this.router = router;\n    this.master = master;\n    this.items = [];\n    this.quantity = 0;\n    this.orderObj = {\n      \"orderId\": 0,\n      \"userId\": 0,\n      \"orderDate\": new Date(),\n      \"totalAmount\": 0,\n      \"restaurantId\": 0,\n      \"orderNo\": \"string\",\n      \"zomatoOrderItems\": []\n    };\n    this.categoryId = 0;\n    this.activate.params.subscribe(res => {\n      debugger;\n      this.categoryId = res.categoryname;\n      this.loadFoodItemsByCategory(res.categoryname);\n    });\n    const loggedData = localStorage.getItem('zomatoUser');\n    if (loggedData != null) {\n      const data = JSON.parse(loggedData);\n      this.orderObj.userId = data.userId;\n    }\n  }\n  loadFoodItemsByCategory(name) {\n    this.master.getItemsByRestaBYCategoryName(name).subscribe(res => {\n      this.items = res.data;\n    });\n  }\n  openQtyModel(item) {\n    debugger;\n    const model = document.getElementById('myModal');\n    if (model != null) {\n      model.style.display = \"block\";\n    }\n    this.selectedFoodItem = item;\n  }\n  cloesQtyModel(item) {\n    const model = document.getElementById('myModal');\n    if (model != null) {\n      model.style.display = \"none\";\n    }\n  }\n  addToCart(data) {\n    debugger;\n    const itemObj = {\n      \"orderItemId\": 0,\n      \"orderId\": 0,\n      \"itemId\": this.selectedFoodItem.itemID,\n      \"quantity\": this.quantity\n    };\n    this.orderObj.restaurantId = this.selectedFoodItem.restaurantI;\n    this.orderObj.zomatoOrderItems.push(itemObj);\n    this.master.placeOrder(this.orderObj).subscribe(res => {\n      if (res.result) {\n        alert('Order Placed');\n      } else {\n        alert(res.message);\n      }\n    });\n  }\n  navigate(item) {\n    this.router.navigate(['/select-items', item.restaurantID, this.categoryId]);\n  }\n}\n_class = RestaurantItemsComponent;\n_class.ɵfac = function RestaurantItemsComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.MasterService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-restaurant-items\"]],\n  decls: 4,\n  vars: 2,\n  consts: [[1, \"container\", \"mt-5\"], [1, \"row\"], [\"class\", \"col-4\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"col-12 text-center\", 4, \"ngIf\"], [1, \"col-4\"], [1, \"card\", \"card-food\", 3, \"click\"], [1, \"card-body\"], [1, \"col-5\"], [\"alt\", \"Pav Bhaji\", 1, \"card-img-top\", \"food-item\", 3, \"src\"], [1, \"col-7\", \"text-right\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-heart-o\"], [1, \"\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-star-half-o\"], [1, \"col-12\", \"text-center\"]],\n  template: function RestaurantItemsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵtemplate(2, RestaurantItemsComponent_div_2_Template, 20, 8, \"div\", 2);\n      i0.ɵɵtemplate(3, RestaurantItemsComponent_div_3_Template, 3, 0, \"div\", 3);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.items);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.items.length == 0);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i3.SlicePipe],\n  styles: [\".food-item[_ngcontent-%COMP%] {\\n    height: 100px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvcmVzdGF1cmFudC1pdGVtcy9yZXN0YXVyYW50LWl0ZW1zLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxhQUFhO0FBQ2pCIiwic291cmNlc0NvbnRlbnQiOlsiLmZvb2QtaXRlbSB7XHJcbiAgICBoZWlnaHQ6IDEwMHB4O1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵlistener","RestaurantItemsComponent_div_2_Template_div_click_1_listener","restoredCtx","ɵɵrestoreView","_r4","item_r2","$implicit","ctx_r3","ɵɵnextContext","ɵɵresetView","navigate","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵadvance","ɵɵproperty","photoUrl","ɵɵsanitizeUrl","ɵɵtextInterpolate","menuItemName","ɵɵpipeBind3","description","ɵɵtextInterpolate1","restaurantName","RestaurantItemsComponent","constructor","activate","router","master","items","quantity","orderObj","Date","categoryId","params","subscribe","res","categoryname","loadFoodItemsByCategory","loggedData","localStorage","getItem","data","JSON","parse","userId","name","getItemsByRestaBYCategoryName","openQtyModel","item","model","document","getElementById","style","display","selectedFoodItem","cloesQtyModel","addToCart","itemObj","itemID","restaurantId","restaurantI","zomatoOrderItems","push","placeOrder","result","alert","message","restaurantID","ɵɵdirectiveInject","i1","ActivatedRoute","Router","i2","MasterService","selectors","decls","vars","consts","template","RestaurantItemsComponent_Template","rf","ctx","ɵɵtemplate","RestaurantItemsComponent_div_2_Template","RestaurantItemsComponent_div_3_Template","length"],"sources":["C:\\Users\\grace\\FoodDeliveryApp\\Zomato\\src\\app\\pages\\restaurant-items\\restaurant-items.component.ts","C:\\Users\\grace\\FoodDeliveryApp\\Zomato\\src\\app\\pages\\restaurant-items\\restaurant-items.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { MasterService } from 'src/app/services/master.service';\r\n\r\n@Component({\r\n  selector: 'app-restaurant-items',\r\n  templateUrl: './restaurant-items.component.html',\r\n  styleUrls: ['./restaurant-items.component.css']\r\n})\r\nexport class RestaurantItemsComponent {\r\n\r\n  items: any[]= [];\r\n  quantity: number = 0;\r\n  orderObj: any = { \r\n      \"orderId\": 0,\r\n      \"userId\": 0,\r\n      \"orderDate\": new Date(),\r\n      \"totalAmount\": 0,\r\n      \"restaurantId\": 0,\r\n      \"orderNo\": \"string\",\r\n      \"zomatoOrderItems\": [\r\n        \r\n      ] \r\n  }\r\n  selectedFoodItem: any;\r\n  categoryId: number = 0\r\n  constructor(private activate: ActivatedRoute,private router: Router, private master: MasterService) {\r\n    this.activate.params.subscribe((res: any)=>{\r\n      debugger;\r\n      this.categoryId = res.categoryname;\r\n      this.loadFoodItemsByCategory(res.categoryname)\r\n    })\r\n    const loggedData = localStorage.getItem('zomatoUser');\r\n    if(loggedData != null) {\r\n      const data = JSON.parse(loggedData);\r\n      this.orderObj.userId = data.userId;\r\n    }\r\n  }\r\n\r\n  loadFoodItemsByCategory(name: string) {\r\n    this.master.getItemsByRestaBYCategoryName(name).subscribe((res: any)=>{\r\n      this.items = res.data;\r\n    })\r\n  }\r\n  openQtyModel(item: any) {\r\n    debugger;\r\n    const model = document.getElementById('myModal');\r\n    if(model != null) {\r\n      model.style.display = \"block\";\r\n    }\r\n    this.selectedFoodItem = item;\r\n  }\r\n  cloesQtyModel(item: any) {\r\n    const model = document.getElementById('myModal');\r\n    if(model != null) {\r\n      model.style.display = \"none\";\r\n    }\r\n  }\r\n  addToCart(data:any) {\r\n    debugger;\r\n    const itemObj = {\r\n      \"orderItemId\": 0,\r\n      \"orderId\": 0,\r\n      \"itemId\": this.selectedFoodItem.itemID,\r\n      \"quantity\":this.quantity\r\n    };\r\n    this.orderObj.restaurantId = this.selectedFoodItem.restaurantI;\r\n    this.orderObj.zomatoOrderItems.push(itemObj);\r\n    this.master.placeOrder(this.orderObj).subscribe((res:any)=>{\r\n      if(res.result) {\r\n        alert('Order Placed')\r\n      } else {\r\n        alert(res.message)\r\n      }\r\n    })\r\n  }\r\n\r\n  navigate(item: any) {\r\n    this.router.navigate(['/select-items',item.restaurantID,this.categoryId])\r\n  }\r\n}\r\n","<div class=\"container mt-5\"> \r\n    <div class=\"row\">\r\n        <div class=\"col-4\" *ngFor=\"let item of items\"  >\r\n            <div class=\"card card-food\" (click)=\"navigate(item)\"> \r\n                <div class=\"card-body\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-5\">\r\n                            <img [src]=\"item.photoUrl\" class=\"card-img-top food-item\" alt=\"Pav Bhaji\">\r\n                           \r\n                        </div>\r\n                        <div class=\"col-7 text-right\">\r\n                            <i class=\"fa fa-heart-o\" aria-hidden=\"true\"></i>\r\n                            <h4  >{{item.menuItemName}}</h4> \r\n                            <small>{{item.description |slice:0:35}}</small> \r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <div class=\"col-5\">\r\n                            <h4 class=\"\"> {{item.restaurantName}}</h4>\r\n                        </div>\r\n                        <div class=\"col-7 text-right\">\r\n                            <h6  ><i class=\"fa fa-star-half-o\" aria-hidden=\"true\"></i></h6>\r\n                        </div>\r\n                    </div>\r\n                   \r\n                </div>\r\n            </div>  \r\n        </div>\r\n        <div class=\"col-12 text-center\" *ngIf=\"items.length == 0\">\r\n            <h5>No Restaurant Serving At Moment</h5>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- <div class=\"modal\" id=\"myModal\">\r\n    <div class=\"modal-dialog\">\r\n      <div class=\"modal-content\"> \r\n        <div class=\"modal-header\">\r\n          <h4 class=\"modal-title\">Quantity</h4>\r\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\r\n        </div> \r\n        <div class=\"modal-body\">\r\n            <label>Enter Quantity</label>\r\n            <input type=\"text\" placeholder=\"Quantity\" [(ngModel)]=\"quantity\" class=\"form-control\">\r\n        </div> \r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-danger\" (click)=\"addToCart()\">Add Item</button>\r\n        </div> \r\n      </div>\r\n    </div>\r\n  </div> -->"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}